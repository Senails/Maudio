{"version":3,"file":"static/js/MainPage.5842610e.chunk.js","mappings":"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","sources":["Utils/other/showMessage/showMessahe.ts","pages/MainPage/FilterBlock/MySelect/MySelect.tsx","pages/MainPage/FilterBlock/FilterBlock.tsx","api/getarraybooks.ts","pages/MainPage/BookCard/ProgressLine/ProgressLine.tsx","pages/MainPage/BookCard/likeHeart/LikeHeart.tsx","pages/MainPage/BookCard/StarIcon/StarIcon.tsx","pages/MainPage/BookCard/bookcard.tsx","pages/MainPage/BookCardBox.tsx/ArrayBooks/ArrayBooks.tsx","pages/MainPage/BookCardBox.tsx/BookCardBox.tsx","pages/MainPage/MainTopLine/MainTopLine.tsx","pages/MainPage/MainPage.tsx"],"sourcesContent":["import { sleep } from \"../sleep\";\r\nimport './style.scss';\r\n\r\nexport async function showMessage(event:React.MouseEvent,message:string){\r\n    let span = document.createElement('span');\r\n    span.classList.add('show-message-block');\r\n    span.innerHTML=message;\r\n    document.body.appendChild(span);\r\n    //\r\n    let Y = event.clientY;\r\n    let pageY = event.pageY;\r\n    let delta = pageY-Y;\r\n\r\n    let X = event.clientX;\r\n    let winH = window.innerHeight;\r\n    let winW = window.innerWidth;\r\n    let spanH=span.clientHeight;\r\n    let spanW=span.clientWidth;\r\n\r\n    if ((X-10)>spanW){\r\n        span.style.left=`${X-10-spanW}px`;\r\n    }else if ((winW-10-X)>spanW){\r\n        span.style.left=`${X+10}px`;\r\n    }else{\r\n        span.style.left=`${10}px`;\r\n    }\r\n\r\n    if ((winH-10-Y-80)>spanH){\r\n        span.style.top =`${10+Y+delta}px`;\r\n    }else if ((Y-10)>spanH){\r\n        span.style.top =`${Y-10-spanH+delta}px`;\r\n    }else{\r\n        span.style.top =`${10+delta}px`;\r\n    }\r\n    //\r\n    await sleep(200);\r\n    span.classList.add('opacity');\r\n    await sleep(500);\r\n    span.remove();\r\n}","import React, { useState } from 'react';\r\nimport { useAppSelector } from '../../../../redux/store';\r\nimport { showMessage } from '../../../../Utils/other/showMessage/showMessahe';\r\nimport { sleep } from '../../../../Utils/other/sleep';\r\nimport './style.scss';\r\n\r\n\r\ntype propsType = {\r\n    activevar:string,\r\n    arrVariant:string[],\r\n    onChange:(selectVar:string)=>void,\r\n    type:'sorting'|'filter',\r\n}\r\n\r\nexport function MySelect({arrVariant,onChange,type,activevar}:propsType){\r\n    let [open,setopen] = useState(false);\r\n    let isAuth = useAppSelector((state)=>state.user.isAuth)\r\n    let block = (!isAuth && type==='filter');\r\n\r\n    let varList = arrVariant.map((variant,i)=>{\r\n        let active = (variant===activevar);\r\n\r\n        function onclick(){\r\n            if (open) {\r\n                onChange(variant);\r\n            }\r\n        }\r\n        return <div onClick={onclick} className={`variant-line ${active?'active':''}`} key={i}>\r\n            {variant}\r\n        </div>\r\n    });\r\n\r\n    function clickOnSelect(event:React.MouseEvent){\r\n        if (!block){ \r\n            setopen(!open);\r\n        }else{\r\n            showMessage(event,'авторизуйтесь');\r\n        }\r\n    }\r\n\r\n    return <div \r\n        onClick={clickOnSelect}\r\n        onMouseLeave={()=>setopen(false)}\r\n        className={`filter-component ${open?'open':''} ${block?'block':''}`}\r\n        style={{height:`${arrVariant.length*31}px`}}>\r\n\r\n        <div className={`${type}-icon`}></div>\r\n        {varList}\r\n    </div>\r\n}\r\n","import { setFilter, setSorting } from '../../../redux/slices/searchSlice';\r\nimport { useAppDispatch, useAppSelector } from '../../../redux/store';\r\nimport { MySelect } from './MySelect/MySelect';\r\nimport './style.scss';\r\n\r\nlet variantsFilter:string[]=['все','любимые','уже слушал'];\r\nlet variantsSorting:string[]=['без сортировки','по популярности','по рейтингу']\r\n\r\nexport function FilterBlock(){\r\n    let activesort = useAppSelector((state)=>state.search.sortingParam);\r\n    let activefilter = useAppSelector((state)=>state.search.filterParam);\r\n\r\n    let dispatch = useAppDispatch();\r\n\r\n    function filterChange(selectvar:string){\r\n        dispatch(setFilter(selectvar))\r\n    }\r\n    function sortingChange(selectvar:string){\r\n        dispatch(setSorting(selectvar))\r\n    }\r\n\r\n    return <div className=\"filter-block\">\r\n        <div className='sorting-select'>\r\n            <MySelect activevar={activesort} type='sorting' arrVariant={variantsSorting} onChange={sortingChange}/>\r\n        </div>\r\n        <div className='filter-select'>\r\n            <MySelect activevar={activefilter} type='filter' arrVariant={variantsFilter} onChange={filterChange}/>\r\n        </div>\r\n    </div>\r\n}","import { BookCardtype } from \"../redux/slices/searchSlice\";\r\nimport { BookDataFetch } from \"../types/api\";\r\nimport { adress } from \"./apiAdress\";\r\n\r\nexport async function getArrayBooks(param:string,sortingParam:string,filterParam:string,token:string):Promise<BookCardtype[]|'error'>{\r\n    let apiadress=adress+`/api/getbooks`;\r\n    try{\r\n\r\n        let reqBody = {\r\n            sorting: sortingParam,\r\n            search: param,\r\n            filter: filterParam\r\n        }\r\n\r\n        let res = await fetch(apiadress,{\r\n            method: 'POST',\r\n            headers: {\r\n              'Authorization': token,\r\n            },\r\n            body: JSON.stringify(reqBody)\r\n          });\r\n        let arrayCard = await res.json();\r\n\r\n        let needArray: BookCardtype[] = arrayCard\r\n        .map((bookcard:BookDataFetch)=>{\r\n            let {\r\n                _id,\r\n                authtorname,\r\n                image,\r\n                href,\r\n                name,\r\n                Reiting,\r\n                like,\r\n                progress,\r\n             } = bookcard;\r\n\r\n            return {\r\n                _id,\r\n                href,\r\n                img: image.url,\r\n                authtor:authtorname,\r\n                name: name,\r\n                reiting:Reiting,\r\n                like,\r\n                progress,\r\n            }\r\n        })\r\n\r\n        return needArray;\r\n    }catch{\r\n        return \"error\";\r\n    }\r\n}","type props = {\r\n    progress:number\r\n}\r\n\r\nexport function ProgressLine({progress}:props){\r\n    let num = (progress*100).toFixed();\r\n    return <div className='propress-line'>\r\n        <span>{num}%</span>\r\n        <div className='light-line' style={{width:`${num}%`}}></div>\r\n    </div>\r\n}","type props = {\r\n    like:boolean;\r\n    onClick:(event:React.MouseEvent)=>void;\r\n}\r\n\r\nexport function LikeHeart({like,onClick}:props){\r\n    return <div onClick={onClick} className={`likebook-icon ${like?'active':''}`}></div>\r\n}","type props = {\r\n    reit?:number;\r\n}\r\n\r\nexport function StarIcon({reit}:props){\r\n    return <span className='cense'>\r\n        {reit?reit.toFixed(1):'?'}\r\n        <div className='start-icon'></div>\r\n    </span>\r\n}","import './style.scss';\r\nimport {Link} from 'react-router-dom';\r\nimport { ProgressLine } from './ProgressLine/ProgressLine';\r\nimport { LikeHeart } from './likeHeart/LikeHeart';\r\nimport React from 'react';\r\nimport { showMessage } from '../../../Utils/other/showMessage/showMessahe';\r\nimport { StarIcon } from './StarIcon/StarIcon';\r\nimport { useAppDispatch, useAppSelector } from '../../../redux/store';\r\nimport { userlike } from '../../../redux/slices/searchSlice';\r\n \r\ntype props = {\r\n    _id:string;\r\n    href:string;\r\n    img:string;\r\n    authtor:string;\r\n    name:string;\r\n    num:number;\r\n    progress?:number;\r\n    like?:boolean;\r\n    reit?:number;\r\n}\r\n\r\nexport function BookCard(propsParam:props){\r\n    let {img,authtor,name,progress,href,reit,like,num,_id} = propsParam;\r\n\r\n    let dispatch = useAppDispatch();\r\n    let isAuth = useAppSelector((state)=>state.user.isAuth);\r\n\r\n    function onheartClick(event:React.MouseEvent){\r\n        event.stopPropagation();\r\n        if (isAuth){\r\n            dispatch(userlike({_id,num,like:!like}));\r\n        }else{\r\n            showMessage(event,'авторизуйтесь');\r\n        }\r\n    }\r\n\r\n    return <div className={`book-card ${like?'like':''}`}>\r\n        <div className='book-image book'></div>\r\n        <div className='book-image' style={{backgroundImage: `url(${img})`}}></div>\r\n\r\n        <h2>{name}</h2>\r\n        <p>{authtor}</p>\r\n\r\n        <StarIcon reit={reit}/>\r\n        <LikeHeart like={like?like:false} onClick={onheartClick}/>\r\n        {progress?<ProgressLine progress={progress}/>:<></>}\r\n\r\n        <Link to={`/bookInfo/${href}`}></Link>\r\n    </div>\r\n}","import { useEffect, useState } from \"react\";\r\nimport { getArrayBooks } from \"../../../../api/getarraybooks\";\r\nimport { Loader } from \"../../../../components/Loader/Loader\";\r\nimport { BookCardtype, setArrayCard } from \"../../../../redux/slices/searchSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../../redux/store\";\r\nimport { getTimeControl2 } from \"../../../../Utils/other/timecontrol\";\r\nimport { BookCard } from \"../../BookCard/bookcard\";\r\n\r\nlet timeControl = getTimeControl2(1000);\r\n\r\nexport function ArrauBooks(){\r\n    let dispatch = useAppDispatch();\r\n    \r\n    let searchString= useAppSelector((state)=>state.search.searchString);\r\n    let sortingParam= useAppSelector((state)=>state.search.sortingParam);\r\n    let filterParam= useAppSelector((state)=>state.search.filterParam);\r\n    let token= useAppSelector((state)=>state.user.token);\r\n    \r\n    let[loadend,setloadend]= useState(false);\r\n    useEffect(()=>{\r\n        timeControl(searchbooks);\r\n        async function searchbooks(){\r\n            setloadend(false);\r\n            let array = await getArrayBooks(searchString,sortingParam,filterParam,token);\r\n            if (array!=='error'){\r\n                setloadend(true);\r\n                dispatch(setArrayCard(array));\r\n            }else{\r\n                setloadend(true);\r\n                dispatch(setArrayCard([]));\r\n            }\r\n        }\r\n    },[searchString,sortingParam,filterParam,token]);\r\n\r\n\r\n    let arrayCard = useAppSelector((state)=>state.search.arrayCard);\r\n    return <>{loadend?<>\r\n        {(arrayCard.length>0)?\r\n        <div className=\"array-card-conteiner\">\r\n            {arrayCard.map((book:BookCardtype,index:number)=>{\r\n            return <BookCard \r\n            _id={book._id}\r\n            href={book.href}\r\n            img={book.img}\r\n            authtor={book.authtor} \r\n            name={book.name}\r\n            reit={book.reiting}\r\n            like={book.like}\r\n            progress={book.progress}\r\n            num={index}\r\n\r\n            key={index}\r\n            />})}\r\n        </div>\r\n        :<div className='message'>\r\n            <span>{`Аудиокнижки не найдены :(`}</span>\r\n            <span>{`попробуйте немного позже`}</span> \r\n        </div>}\r\n    </>:<Loader/>}</>\r\n}","import { useRef } from \"react\";\r\nimport { FilterBlock } from \"../FilterBlock/FilterBlock\";\r\nimport { ArrauBooks } from \"./ArrayBooks/ArrayBooks\";\r\nimport './style.scss';\r\n\r\n\r\nexport function BookCardBox(){\r\n    let bookCardBox = useRef<HTMLDivElement>(null);\r\n\r\n    return <div ref={bookCardBox} className='bookcard-box'>\r\n        <FilterBlock/>\r\n        <ArrauBooks/>\r\n    </div>\r\n}","import { useNavigate } from \"react-router-dom\";\r\nimport { resetState, setsearch } from \"../../../redux/slices/searchSlice\";\r\nimport { exitUser, showhidemodal } from \"../../../redux/slices/userSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../redux/store\";\r\nimport './style.scss';\r\n\r\n\r\nexport function MainTopLine(){\r\n    let dispatch = useAppDispatch();\r\n    let navigate = useNavigate();\r\n\r\n    let searchString = useAppSelector((state)=>state.search.searchString);\r\n    let status = useAppSelector((state)=>state.user.userstatus);\r\n    let isAuth = useAppSelector((state)=>state.user.isAuth);\r\n\r\n    function addiconclick(){\r\n        navigate('/edit/newbook');\r\n    }\r\n\r\n    function loginiconclick(){\r\n        if (!isAuth){\r\n            dispatch(showhidemodal(true));\r\n        }\r\n    }\r\n\r\n    function exitclick(){\r\n        dispatch(exitUser());\r\n        dispatch(setsearch('*'));\r\n        dispatch(resetState());\r\n    }\r\n\r\n    return <div className='main-top-line'>\r\n    <p className=\"textLogo\">Audiobooks</p>\r\n    <div className=\"line1\">\r\n        <div className='main-input'>\r\n            <input type=\"text\" value={searchString} onChange={(e)=>dispatch(setsearch(e.target.value))} placeholder='введите название или автора'/>\r\n            <div className='input-icon'></div>\r\n        </div>\r\n        {(status==='admin' || status==='editor')?\r\n        <div onClick={addiconclick} className='addbook-icon'>\r\n            <div></div>\r\n            <div></div>\r\n        </div>:<></>}\r\n        <div onClick={loginiconclick} className={`login-icon ${isAuth?'isAuth':''}`}>\r\n            {isAuth?<div onClick={exitclick} className=\"exit-account\">выйти</div>:<></>}\r\n        </div>\r\n    </div>\r\n</div>\r\n}","import { BookCardBox } from './BookCardBox.tsx/BookCardBox';\r\nimport { MainTopLine } from './MainTopLine/MainTopLine';\r\nimport './style.scss';\r\n\r\n\r\nexport default function MainPage(){\r\n    return <div className=\"MainPage\">\r\n        <MainTopLine/>\r\n        <BookCardBox/>\r\n    </div>\r\n}"],"names":["showMessage","event","message","span","document","createElement","classList","add","innerHTML","body","appendChild","Y","clientY","pageY","delta","X","clientX","winH","window","innerHeight","winW","innerWidth","spanH","clientHeight","spanW","clientWidth","style","left","top","sleep","remove","MySelect","arrVariant","onChange","type","activevar","useState","open","setopen","block","useAppSelector","state","user","isAuth","varList","map","variant","i","active","onClick","className","onMouseLeave","height","length","variantsFilter","variantsSorting","FilterBlock","activesort","search","sortingParam","activefilter","filterParam","dispatch","useAppDispatch","selectvar","setSorting","setFilter","getArrayBooks","param","token","apiadress","adress","reqBody","sorting","filter","fetch","method","headers","JSON","stringify","res","json","arrayCard","needArray","bookcard","_id","authtorname","image","href","name","Reiting","like","progress","img","url","authtor","reiting","ProgressLine","num","toFixed","width","LikeHeart","StarIcon","reit","BookCard","propsParam","backgroundImage","stopPropagation","userlike","to","timeControl","getTimeControl2","ArrauBooks","searchString","loadend","setloadend","useEffect","array","setArrayCard","book","index","Loader","BookCardBox","bookCardBox","useRef","ref","MainTopLine","navigate","useNavigate","status","userstatus","value","e","setsearch","target","placeholder","showhidemodal","exitUser","resetState","MainPage"],"sourceRoot":""}