"use strict";(self.webpackChunkaudiobook=self.webpackChunkaudiobook||[]).push([[150],{9351:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var r=t(4165),c=t(5861),o=t(885),s=t(2791),a=t(7689),i=t(1087),u=t(6390),l=t(3417),d=t(763),f=t(5027),v=t(6302),m=t(713),h=t(9393),p=t(184),x=(0,h.BZ)(1200);function j(){var e=(0,f.CG)((function(e){return e.pleer.bookMap.image})),n=(0,s.useState)(!1),t=(0,o.Z)(n,2),a=t[0],i=t[1],u=(0,s.useState)(!1),l=(0,o.Z)(u,2),d=l[0],v=l[1],h=(0,s.useRef)(null),j=(0,s.useRef)(null);return(0,s.useEffect)((function(){function n(){return(n=(0,c.Z)((0,r.Z)().mark((function n(){var t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e,a){n.next=7;break}h.current.style.backgroundImage="url(".concat(t,")"),j.current.classList.add("small"),i(!0),n.next=19;break;case 7:return j.current.style.backgroundImage="url(".concat(t,")"),h.current.classList.add("small"),j.current.classList.remove("small"),v(!0),n.next=13,(0,m._)(1e3);case 13:return h.current.style.backgroundImage="url(".concat(t,")"),h.current.classList.remove("small"),v(!1),n.next=18,(0,m._)(0);case 18:j.current.classList.add("small");case 19:case"end":return n.stop()}}),n)})))).apply(this,arguments)}x((function(){return n.apply(this,arguments)}))}),[e]),(0,p.jsxs)("div",{className:"book_box",children:[(0,p.jsxs)("div",{className:"book_box_move "+(d?"change":""),children:[(0,p.jsx)("div",{className:"book_box_conteiner",children:(0,p.jsx)("div",{ref:j,className:"img"})}),(0,p.jsx)("div",{className:"book_box_conteiner",children:(0,p.jsx)("div",{ref:h,className:"img"})})]}),(0,p.jsx)("div",{className:"book_box_shadow"})]})}function b(e){var n=e.name,t=e.collNum,r=e.bookNum,c=(0,f.CG)((function(e){return e.pleer.lenght})),o=(0,f.CG)((function(e){return e.pleer.bookMap.booklength})),s=(0,f.CG)((function(e){return e.pleer.activecollection})),a=(0,f.CG)((function(e){return e.pleer.activebook})),i=(0,f.TL)(),u=a===r&&s===t?"active":"";return(0,p.jsxs)("div",{onClick:function(){i((0,d.mC)({coll:t,book:r}))},className:"book-panel-box ".concat(u),children:[(0,p.jsx)("p",{children:n}),(0,p.jsx)("div",{className:"line-box",children:(0,p.jsx)("div",{className:"white-line",style:{width:"".concat(s>t?100:s<t?0:a>r?100:a<r?0:c/o*100,"%")}})})]})}function k(e){var n=e.name,t=e.books,r=e.numColl,c=e.collLenght,a=(0,f.CG)((function(e){return e.pleer.activecollection})),i=(0,f.CG)((function(e){return e.pleer.activebook})),u=(0,f.CG)((function(e){return e.pleer.lenght})),l=(0,s.useState)(a===r),d=(0,o.Z)(l,2),v=d[0],m=d[1],h=t.map((function(e,n){return(0,p.jsx)(b,{name:e.name,collNum:r,bookNum:n},n)}));return(0,s.useEffect)((function(){m(a===r)}),[a]),(0,p.jsxs)("div",{className:"collection-div",children:[(0,p.jsxs)("div",{onClick:function(){return m(!v)},className:"collection-box ".concat(a===r?"active":""),children:[(0,p.jsx)("p",{children:n}),(0,p.jsx)("div",{className:"collection-line",children:(0,p.jsx)("div",{className:"white-line",style:{width:"".concat(a>r?100:a<r?0:(t[i].beforelenght+u)/c*100,"%")}})})]}),(0,p.jsx)("div",{className:"book-box",style:{height:"".concat(v?40*t.length+0:0,"px"),opacity:"".concat(v?1:0)},children:h})]})}function g(){var e=(0,f.CG)((function(e){return e.pleer.seria.collections})).map((function(e,n){return(0,p.jsx)(k,{name:e.name,books:e.books,numColl:n,collLenght:e.lenght},n)}));return(0,p.jsx)("div",{className:"array-box",children:e})}function N(){var e=(0,s.useState)("hide"),n=(0,o.Z)(e,2),t=n[0],r=n[1];return(0,p.jsxs)("div",{className:"left-panel ".concat(t),children:[(0,p.jsx)("div",{className:"left-button",children:(0,p.jsx)(i.rU,{to:"/"})}),(0,p.jsxs)("div",{className:"right-button",onClick:function(){r("hide"===t?"show":"hide")},children:[(0,p.jsx)("div",{}),(0,p.jsx)("div",{}),(0,p.jsx)("div",{})]}),(0,p.jsx)("div",{className:"contetn-box",children:(0,p.jsx)(g,{})})]})}var C=t(2220),y=.001;function Z(){var e=(0,f.CG)((function(e){return e.pleer.lenght})),n=(0,f.CG)((function(e){return e.pleer.bookMap.booklength})),t=(0,f.TL)(),r=(0,s.useState)(0),c=(0,o.Z)(r,2),a=c[0],i=c[1],u=(0,s.useState)(!1),l=(0,o.Z)(u,2),v=l[0],m=l[1],h=(0,s.useRef)(null);function x(){m(!0)}function j(){v&&(m(!1),t((0,d.y3)(a+y)),y=.001===y?.002:.001)}function b(e,t){var r;r="mouse"===t?e.pageX:e.touches[0].pageX;var c=e.currentTarget.getBoundingClientRect().left,o=e.currentTarget.clientWidth,s=h.current.offsetWidth;requestAnimationFrame((function(){var e=r-c;e<=0&&(e=0),e>=o&&(e=o);var t=(e-s/2)/o;h.current.style.left=(100*t).toFixed(2)+"%",i(e/o*n)}))}var k=(0,p.jsxs)("div",{className:"progressBar-box",onTouchStart:x,onMouseDown:x,onTouchEnd:j,onMouseUp:j,onMouseLeave:j,onMouseMove:function(e){b(e,"mouse")},onTouchMove:function(e){b(e,"touchpad")},children:[(0,p.jsx)("span",{ref:h,className:"show-time",children:(0,C.U)(a)}),(0,p.jsx)("div",{className:"progressBar",children:(0,p.jsx)("div",{style:{width:"".concat((v?a:e)/n*100,"%")},className:"progressline"})}),(0,p.jsx)("span",{className:"timecheck left",children:(0,C.U)(e)}),(0,p.jsx)("span",{className:"timecheck right",children:(0,C.U)(n)})]});return(0,p.jsx)("div",{className:"progressbar-conteiner",children:k})}var w,G=t(9434);function L(){var e=(0,f.CG)((function(e){return e.pleer.userVolume})),n=(0,G.I0)(),t=(0,s.useState)(""),r=(0,o.Z)(t,2),c=r[0],a=r[1];return(0,s.useEffect)((function(){a("changed"),w&&clearTimeout(w),w=setTimeout((function(){a("")}),2e3)}),[e]),(0,p.jsxs)("div",{className:"volume-box ".concat(e>0?"":"block"," ").concat(c),children:[(0,p.jsx)("div",{className:"volume-icon"}),(0,p.jsx)("div",{className:"volume-polzik",children:(0,p.jsx)("div",{className:"volume-polzik-line",onMouseDown:function(e){var t=e.currentTarget.getBoundingClientRect().top,r=Math.floor(t),c=Math.floor(t)+e.currentTarget.clientHeight-r;function o(e){var t=c-(e.clientY-r),o=+((t=t<=0?0:t>=c?c:t)/c).toFixed(4);n((0,d.pV)(o))}function s(e){requestAnimationFrame((function(){o(e)}))}o(e),document.addEventListener("mousemove",s),document.addEventListener("mouseup",(function e(n){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",e)}))},onTouchStart:function(e){var t=e.currentTarget.getBoundingClientRect().top,r=Math.floor(t),c=Math.floor(t)+e.currentTarget.clientHeight-r;function o(e){var t=c-(e.touches[0].clientY-r),o=+((t=t<=0?0:t>=c?c:t)/c).toFixed(4);n((0,d.pV)(o))}function s(e){requestAnimationFrame((function(){o(e)}))}o(e),document.addEventListener("touchmove",s),document.addEventListener("touchend",(function e(){document.removeEventListener("touchmove",s),document.removeEventListener("touchend",e)}))},children:(0,p.jsx)("div",{style:{height:100*e+"%"},className:"volume-line",children:(0,p.jsx)("div",{className:"circle"})})})})]})}var M=(0,h.BZ)(500);function T(){var e=(0,f.CG)((function(e){return e.pleer.playpause})),n=(0,s.useState)(e),t=(0,o.Z)(n,2),a=t[0],i=t[1],u=(0,s.useState)(!1),l=(0,o.Z)(u,2),v=l[0],h=l[1];function x(){return(x=(0,c.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:"play"===e?(0,f.WI)((0,d.ao)("pause")):((0,f.WI)((0,d.ao)("play")),(0,f.WI)((0,d.sy)(!0)));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,s.useEffect)((function(){function n(){return(n=(0,c.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("pause"!==e){n.next=7;break}return i("hide play"),n.next=4,(0,m._)(100);case 4:i("pause"),n.next=11;break;case 7:return i("hide pause"),n.next=10,(0,m._)(100);case 10:i("play");case 11:case"end":return n.stop()}}),n)})))).apply(this,arguments)}v?M((function(){return n.apply(this,arguments)})):h(!0)}),[e]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"place",onClick:function(){return x.apply(this,arguments)},children:(0,p.jsx)("div",{className:"play-pause ".concat(a)})})})}var E=t(7442),_=t(5590);function S(){var e=(0,f.CG)((function(e){return e.pleer.seria})),n=(0,f.CG)((function(e){return e.pleer.activecollection})),t=(0,f.CG)((function(e){return e.pleer.activebook}));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{onClick:function(){if((0,E.m)({seria:e,activecollection:n,activebook:t})){var r=(0,_.O)();(0,f.WI)((0,d.mC)(r))}},className:"prevbook prevnext ".concat((0,E.m)({seria:e,activecollection:n,activebook:t})?"":"opacity")}),(0,p.jsx)("div",{onClick:function(){if((0,E.O)({seria:e,activecollection:n,activebook:t})){var r=(0,_.Z)();(0,f.WI)((0,d.mC)(r))}},className:"nextbook prevnext ".concat((0,E.O)({seria:e,activecollection:n,activebook:t})?"":"opacity")})]})}function F(){var e=(0,f.CG)((function(e){return e.pleer.bookMap.name}));return(0,p.jsx)("h1",{children:e})}function I(e){var n=e.children,t=(0,f.CG)((function(e){return e.pleer.userVolume})),r=(0,f.TL)();return(0,p.jsx)("div",{onWheel:function(e){e.ctrlKey||(e.deltaY>=0?requestAnimationFrame((function(){var e=t-.05;e=(e=Math.round(100*e)/100)<=0?0:e,r((0,d.pV)(e))})):requestAnimationFrame((function(){var e=t+.05;e=(e=Math.round(100*e)/100)>=1?1:e,r((0,d.pV)(e))})))},className:"wheel-rect",children:n})}function W(){var e=(0,f.CG)((function(e){return e.pleer.lenght})),n=(0,f.TL)();function t(e){return o.apply(this,arguments)}function o(){return o=(0,c.Z)((0,r.Z)().mark((function t(c){var o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o="left"===c?-15:15,n((0,d.y3)(e+o));case 2:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}return(0,p.jsxs)("div",{className:"rewind-block",children:[(0,p.jsxs)("div",{onClick:function(){return t("left")},className:"left-arrow",children:[(0,p.jsx)("div",{}),(0,p.jsx)("div",{}),(0,p.jsx)("span",{children:"15s"})]}),(0,p.jsxs)("div",{onClick:function(){return t("right")},className:"right-arrow",children:[(0,p.jsx)("div",{}),(0,p.jsx)("div",{}),(0,p.jsx)("span",{children:"15s"})]})]})}function A(){return(0,p.jsxs)("div",{className:"pleer_layer",children:[(0,p.jsxs)("div",{className:"pleer_box",children:[(0,p.jsxs)(I,{children:[(0,p.jsx)(F,{}),(0,p.jsx)(T,{}),(0,p.jsx)(S,{}),(0,p.jsx)(W,{})]}),(0,p.jsx)(Z,{})]}),(0,p.jsx)(L,{})]})}function B(){var e=(0,f.TL)(),n=(0,f.CG)((function(e){return e.pleer.hrefparam})),t=(0,a.s0)(),m=(0,a.UO)().bookname,h=(0,s.useState)(!1),x=(0,o.Z)(h,2),b=x[0],k=x[1];function g(){return(g=(0,c.Z)((0,r.Z)().mark((function c(){var o;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(m!==n){r.next=3;break}return k(!0),r.abrupt("return");case 3:return r.prev=3,r.next=6,(0,u.E)(m);case 6:if("error"===(o=r.sent)){r.next=14;break}return e((0,d.Dv)({seria:o,hrefparam:m})),o.progress&&(0,v.G)(o.progress),k(!0),r.abrupt("return");case 14:t("/404page");case 15:r.next=20;break;case 17:r.prev=17,r.t0=r.catch(3),t("/404page");case 20:case"end":return r.stop()}}),c,null,[[3,17]])})))).apply(this,arguments)}return(0,s.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]),(0,p.jsx)("div",{className:"AudioPage ".concat(b?"":"loading"),children:b?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("span",{className:"audiobooks-audiopage",children:(0,p.jsx)(i.rU,{to:"/",children:"Audiobooks"})}),(0,p.jsx)(j,{}),(0,p.jsx)(A,{}),(0,p.jsx)(N,{})]}):(0,p.jsx)(l.a,{})})}}}]);
//# sourceMappingURL=AudioPage.7a909e99.chunk.js.map